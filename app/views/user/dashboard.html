<div class="container">

  <div ng-include="'user/navs/user-nav.html'"></div>

  <div class="panel-white p4 clearfix account-wrapper">

    <div class="account-left">

      <div ng-repeat="userImage in userData.photos" ng-if="userImage.isMain == 1" class="thumbnail">
        <img class="img-rounded" ng-src="{{imageUrl}}{{userImage.src}}" />
      </div>

      <div class="text-center" ng-if="userData.profile.firstName">
        <span class="font-big font-bold">{{ userData.profile.firstName }} {{ userData.profile.lastName }}</span>
        <div>
          <a class="italic" href="/user/edit-profile">Edit Profile</a>
        </div>
      </div>

    </div>

    <div class="account-right">

      <div class="account-block">

        <div class="account-heading pb4 mb4">
          <h2 class="heading-font text-center uppercase m0">Your listings</h2>
          <p class="text-center font-big m0">The classes that you are teaching</p>
        </div>

        <ul class="list-unstyled row list-block">
          <li ng-repeat="listing in userDashboard.userListings" class="col-sm-4">
            <div class="block clearfix">

              <div class="name">
                {{ listing.title }}
              </div>
              <a ui-sref="Class({ classAlias:listing.alias })">View</a>
              <a ui-sref="Class({ classAlias:listing.alias })">Edit</a>

            </div>
          </li>
        </ul>

      </div>

      <div class="account-block">

        <div class="account-heading pb4 mb4">
          <h2 class="heading-font text-center uppercase m0">Your classes</h2>
          <p class="text-center font-big m0">The classes that you are attending</p>
        </div>

        <ul class="list-unstyled row list-block">
          <li class="search-item" ng-repeat="listing in userDashboard.userListings" style="{{::listing.image}}" data-size="{{::listing.size}}" data-distance="{{::listing.distance}}">
            <a class="search-item-content" ui-sref="Class({ classAlias:listing.alias })">
              <div class="search-item-price">{{::listing.price ? (listing.price | currency : '$' : 2) : 'free'}}</div>
              <div class="search-item-date">{{::listing.dateStart | date : "dd MMMM" }}</div>

              <div class="search-item-title">{{::listing.title}}</div>
              <div class="search-item-location">{{::listing.venue}}</div>
              <div class="search-item-rating">
                <span uib-rating class="rating-half-star" ng-model="listing.rating" max="10" read-only="true" titles="{{::search.rating.titles}}"></span>
                <span class="search-item-rating-text">{{::listing.reviews > 0 ? (listing.reviews + (listing.reviews == 1 ? ' review' : ' reviews')) : 'No reviews yet'}}</span>
              </div>
              <div class="search-item-description">
                <span ng-if="listing.booked > 0">{{::listing.booked}} {{::listing.booked === 1 ? 'student' : students}} going</span>
                <em ng-if="listing.booked > 0 && listing.vacant > 0">&ndash;</em>
                <span>{{::listing.vacant}} {{::listing.vacant === 1 ? 'spot' : 'spots'}} left!</span>
                <br>
                <span ng-if="listing.dateStart && listing.dateEnd">{{::listing.dateStart | date : "hh:mm a" }} - {{::listing.dateEnd | date : "hh:mm a"}}</span>
                <span class="search-item-link" ng-if="listing.alltimes > 1">more available</span>
              </div>
            </a>
          </li>

          <li ng-repeat="listing in userDashboard.userListings" class="col-sm-4">
            <div class="block clearfix">

              <div class="name">
                {{ listing.title }}
              </div>
              <a ui-sref="Class({ classAlias:listing.alias })">View</a>
              <a ui-sref="Class({ classAlias:listing.alias })">Edit</a>

            </div>
          </li>
        </ul>

      </div>

    </div>

    </div>

  </div>

  <div class="panel hide">
    <div class="panel-body">
      <p ng-if="userData.roles[0]">
        <span class="label label-success" ng-repeat="userRole in user.userData.roles">{{ userRole.title }}</span>
      </p>
      <div ng-repeat="userImage in user.userData.photos" ng-if="userImage.isMain == 1" class="thumbnail">
        <img class="img-rounded" ng-src="{{imageUrl}}{{userImage.src}}" />
      </div>
      <p ng-if="user.userData.profile.firstName">
        <strong>Name: </strong>
        <span>{{ user.userData.profile.firstName }} {{ user.userData.profile.lastName }}</span>
      </p>
      <p ng-if="user.userData.email">
        <strong>Email: </strong>
        <span>{{ user.userData.email }}</span>
      </p>
      <!-- <p>
        <strong>Birthday: </strong>
        <span>{{ user.newBirthday | date:'dd/MM/yyyy' }}</span>
      </p> -->
      <p ng-if="user.userData.profile.phone">
        <strong>Phone number: </strong>
        <span>{{ user.userData.profile.phone }}</span>
      </p>
      <p ng-if="user.userData.profile.brief">
        <strong>Brief: </strong>
        <span>{{ user.userData.profile.brief }}</span>
      </p>
      <p ng-if="user.userData.profile.about">
        <strong>About: </strong>
        <span>{{ user.userData.profile.about }}</span>
      </p>
      <!-- <p>
        <strong>Rating: </strong>
        <uib-rating ng-model="user.userData.rating | number:0" max="5" readonly="true" aria-labelledby="default-rating"></uib-rating>
      </p> -->


    </div>
  </div>
